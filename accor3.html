<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>

.accordion_area{width:600px;margin:20px auto;border:1px solid #000}
.accordion_area .content_area{display:none;padding:10px;background:#f4f4ff}
.accordion_area .content_area.act{display:block}

.accordion_area {
    position: relative;
}

.content_area {
    position: relative;
}

.arr-content {
    display: block;
    position: absolute;
    top: 0;
    bottom: -15%;
    right: 15px;
    margin: auto;
    width: 8px;
    height: 8px;
    border-right: 2px solid #333;
    border-bottom: 2px solid #333;
    transform: translateY(-2px) rotate(45deg);
    transition: transform 0.2s ease;
}

</style>
<body>
    <ul class="accordion_area">
        <li>개인
            <span class="btn btn_toggle arr-content"></span>
            <ul class="content_area">
                <li>쇼핑 및 구매방법
                    <span class="btn btn_toggle arr-content"></span>
                    <ul class="content_area">
                        <li class="accordion-last-list">
                            <a href="#">온라인 쇼핑</a>
                        </li>
                        <li class="accordion-last-list">
                            <a href="#">오프라인 키오스크</a>
                        </li>
                        <li class="accordion-last-list">
                            <a href="#">QR코드로 결제</a>
                        </li>
                        <li class="accordion-last-list">
                            <a href="#">자노페이 신용카드</a>
                        </li>
                        <li class="accordion-last-list">
                            <a href="#">거래 및 캐시백</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>

<div class="accordion_area">
        <p>개인</p>
        <span class="btn btn_toggle arr-content"></span>
        <div class="content_area">
            Accordion is accordion.
        </div>
    </div>

<div class="accordion_area">
        <p>개인</p>
        <span class="btn btn_toggle arr-content"></span>
        <div class="content_area">
            Accordion is accordion.
        </div>
    </div>

<div class="accordion_area">
        <p>개인</p>
        <span class="btn btn_toggle arr-content"></span>
        <div class="content_area">
            Accordion is accordion.
        </div>
    </div>

<div class="accordion_area">
        <p>개인</p>
        <span class="btn btn_toggle arr-content"></span>
        <div class="content_area">
            Accordion is accordion.
        </div>
    </div>
</div>
<script>

    bindingAccordionEvent('.accordion_area');

    function bindingAccordionEvent(wrap){
         let areaArr = document.querySelectorAll(wrap);
  
areaArr.forEach(function(area){
    let hasGroup = area.dataset['group'] !== undefined ? true : false;
    // 아코디언 영역에 data-group의 값이 있으면 true 아닐 경우 false (삼항 연산자)
    let btn = area.querySelector('.btn_toggle');
    btn.addEventListener('click', function(){
        if(hasGroup === true){ // 그룹이 있을경우
            let name = area.dataset['group'];
            // 그룹명 가져오기
            let groupArr = document.querySelectorAll(wrap + '[data-group="'+ name +'"]');
            // 그룹명을 가지고 있는 아코디언 영역을 전부 선택
            let thisContent = area.querySelector('.content_area');
            // 현재 아코디언 영역의 컨텐츠 영역
    
    groupArr.forEach(function(group){
       let content = group.querySelector('.content_area');
      content.classList.remove('act');
    });
    thisContent.classList.add('act');
  }else{ // 그룹이 없을경우
    let content = area.querySelector('.content_area');
// 현재 아코디언 영역의 컨텐츠 영역
    content.classList.toggle('act');
  }
});
  });
}
</script>
</body>
</html>